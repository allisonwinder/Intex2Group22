@{
    ViewData["Title"] = "Details";
}
@model DetailsViewModel


    <h1>Mummy Identification Number: @Model.burial.Id</h1>
    
    <br />
    <p class="pedit">Age Group: @Model.burial.Adultsubadult</p>
    <br />
<a class="btn btn-primary" asp-controller="Home" asp-action="AddTextile" asp-route-mummyid="@Model.burial.Id">Add Textile</a>
<br/>
<br/>
    @foreach (Textile t in Model.textiles)
    {
    <div class="card card-outline-primary bg-light m-1 p-1">
        <div class="bg-faded p-1">
           <p class="pedit">Textile Description: @t.Description</p>
            <p>Locality: @t.Locale</p>
            <p>Directions: @t.Direction</p>
            <a class="btn btn-primary" asp-controller="Home" asp-action="EditTextile" asp-route-textileid="@t.Id">Edit Textile</a>
            <br/>
            <br/>
            @foreach (ColorTextile ct in Model.coltexts)
            {
                @if (t.Id == ct.MainTextileid)
                {
                    @foreach(Color c in Model.colors)
                    {
                        @if (c.Id == ct.MainColorid)
                        {
                            <p class="pedit">Textile Color: @c.Value</p>
                        <a class="btn btn-primary" asp-controller="Home" asp-action="EditColor" asp-route-colorid="@c.Id">Edit Color</a>
                        <br/>
                        <br/>
                        }   
                    }
                }
            }

            @foreach (TextilefunctionTextile tft in Model.functstexts)
            {
                @if (t.Id == tft.MainTextileid)
                {
                    @foreach (Textilefunction tf in Model.textilefunctions)
                    {
                        @if (tf.Id == tft.MainTextilefunctionid)
                        {
                            <p class="pedit">Function: @tf.Value</p>
                        <a class="btn btn-primary" asp-controller="Home" asp-action="EditFunction" asp-route-functionid="@tf.Id">Edit Function</a>
                        <br/>
                        <br/>
                    }
                        }
                    }
                }
        @foreach (StructureTextile st in Model.structexts)
        {
            @if (t.Id == st.MainTextileid)
            {
                @foreach (Structure s in Model.structures)
                {
                    @if (st.MainStructureid == s.Id)
                    {
                            <p class="pedit">Structure: @s.Value</p>
                        <a class="btn btn-primary" asp-controller="Home" asp-action="EditStructure" asp-route-structureid="@s.Id">Edit Structure</a>
                        <br/>
                        <br/>
                    }
                }
            }
        }
        </div>
        </div>
    <br /><br />
        
    }

    @foreach (Bodyanalysischart bac in Model.charts)
{   <div class="card card-outline-primary bg-light m-1 p-1">
        <div class="bg-faded p-1">
            <p class="pedit">BurialId: @bac.Burialid</p>
            <p class="pedit">Area: @bac.Area</p>
            <a class="btn btn-primary"  asp-controller="Home" asp-action="EditBodyChart" asp-route-chartid="@bac.Burialid">Edit Chart</a>
        </div>
    </div>
}
<br />

<a class="btn btn-dark" asp-controller="Home" asp-action="allMummies">Back to Mummies</a>

